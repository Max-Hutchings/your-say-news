# =============================
# Test profile - in-memory H2
# =============================
%test.quarkus.datasource.db-kind=h2
%test.quarkus.datasource.jdbc.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=PostgreSQL;
%test.quarkus.datasource.username=sa
%test.quarkus.datasource.password=sa

# Disable DevServices in tests - we provide our own URL
%test.quarkus.datasource.devservices.enabled=false
%test.quarkus.devservices.enabled=false

# Let Liquibase set up schema in H2
%test.quarkus.liquibase.enabled=true
%test.quarkus.liquibase.migrate-at-start=true
%test.quarkus.liquibase.change-log=db/db.changelog-master.yaml

# For tests, you can also turn off OIDC if you're using @TestSecurity
%test.quarkus.oidc.enabled=false
